# 2020-03-21

## 故事背景

中午产品晓燕再次提出一个土建问题反馈 bug，用户无反馈权限，因为是产品提出的，大家都忙碌起来，测试雪婷，接口辉丽，技术负责人张冰都配合查找问题

## 故事时间轴

1. 产品晓燕中午微信群反映土建反馈 BUG，用户无反馈权限，并表示昨晚还正常，并且@我去处理
2. 我假装没看到，不出现
3. 测试雪婷复测，发现也存在这个问题
4. 接口辉丽发现是用户登录接口报错：accesstoken 有问题，并且再次@我
5. 我猜测是容器挂机时间过长导致 accesstoken 过期的问题，这个问题之前在其他产品遇到过，解决办法就是切换用户，重新登录，刷新 accesstoken，但是我记得这里有相关处理，在登录接口返回 414 的时候做如上处理，但是为什么现在没触发，是从 op 切换到中台的时候，接口的错误码有变化？但是我依然不出现，假装没看到
6. 张冰看后台日志确认是 accesstoken 问题
7. 我冒泡，先表示不在电脑旁，刚看到信息，接着提示晓燕重启软件或者切换用户是否有这个问题，如果还有，就是容器有问题（其实也可能是接口有问题）
8. 晓燕表示重启了依然有这个问题，此时我基本断定是接口问题
9. 张冰确认是后台配置问题，测试环境的接口访问正式环境的数据库导致的，接着表示这个配置文件是昨天被自己改动的，但是不确定为啥改动了
10. 张冰就昨天的冲动态度当众和我道歉
11. 我等了 20 分钟才回应，发微笑表情，并表示张冰辛苦了。
12. 事后辉丽，雪婷，静菲，晓燕都问我昨天发生了什么事情，我都表示张冰昨晚太辛苦，我一心想解决 bug 结果麻烦他让他有点急，他是个心思细腻的人，我本打算周一和他道歉。

## 总结

在昨天彻底的总结了发生的事情之后，今天居然发生了类似的事情，让我很惊讶，但是这次我的处理方式堪称完美。

- 在判断问题不严重，并且大概率和自己无关的情况下，第一时间不出现，让产品晓燕拉着其他人去解决，让其他人明白找 BUG 是件很繁琐的事情，如果是我处理，肯定能处理好，但是大家就以为这是个很简单的事情，反而无所谓，不重视。
- 在大家基本定义了问题所在之后，我在出现简单发表意见，第一我说的是关键的东西，很有价值，第二我基于别人的查找结论，基本不费力，第三我不指名是谁的问题，只说 bug 情况，让大家自己认领，不得罪人。最后的结果自然是大家认识到定位 bug 的麻烦性，我不消耗精力提出宝贵意见，张冰最后确认是自己的问题，虽然整个事件耗时 2 个多小时，但是圆满解决。
- 出乎我意料的是张冰主动在群里和我道歉，我本来打算周一和他道歉来为周五的事情画上句号，因为一个事情的发生一定要尽快解决，如果无视它，以后一定会有隐患。在张冰主动示好的情况下，我特意等 20 分钟是为了让大家都看到这个信息，明白我昨晚那么辛苦还受到了委屈，当然我又轻描淡写的回复，让双方都有台阶下。
- 事后面对那么多同事的私信，我都主动把问题揽在我身上，我知道一定会传到张冰耳边，反正事情的真相大家都能猜到，我又何必说破，按我现在的说法还表现的大度，双方都有台阶下。

::: tip

没想到昨天我花 2 个小时问题总结之后，第二天就立刻遇到了几乎一样的事情，但是这次我的处理堪称完美，从原来的 0 分立刻达到现在的 100 分，所以人应该多做总结，这样 1 年才是过了 365 天，而不是 1 天重复了 365 次。

:::
